<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>R√©sidence Thalassa ¬∑ Copropri√©t√© √éle aux Bahamas</title>
  <style>
    :root {
      --blue: #0f7bff;
      --purple: #8245ff;
      --green: #12b886;
      --amber: #f59f00;
      --red: #f03e3e;
      --bg: #eef4ff;
      --text: #0f172a;
      --muted: #4b5563;
      --card: rgba(255, 255, 255, 0.9);
      --shadow: 0 18px 40px rgba(15, 27, 45, 0.18);
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: "Inter", system-ui, -apple-system, sans-serif;
      background: radial-gradient(circle at 18% 20%, #d7e8ff 0, #b2d4ff 25%, #7fb3ff 55%, #3a6cf6 100%);
      color: var(--text);
      min-height: 100vh;
    }

    .page {
      max-width: 1200px;
      margin: 0 auto;
      padding: 28px 18px 72px;
      display: grid;
      gap: 18px;
    }

    header {
      position: sticky;
      top: 0;
      z-index: 30;
      padding-bottom: 10px;
      backdrop-filter: blur(14px);
    }

    .nav {
      background: rgba(255, 255, 255, 0.95);
      border: 1px solid rgba(255, 255, 255, 0.6);
      border-radius: 18px;
      padding: 14px 18px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      box-shadow: var(--shadow);
      flex-wrap: wrap;
    }

    .nav-links {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      color: var(--muted);
      font-weight: 600;
    }
    .nav-links a {
      text-decoration: none;
      color: inherit;
      padding: 8px 10px;
      border-radius: 10px;
      transition: background 0.2s ease, color 0.2s ease;
    }
    .nav-links a:hover { background: rgba(15, 123, 255, 0.08); color: var(--text); }

    .brand {
      display: flex;
      gap: 12px;
      align-items: center;
      font-weight: 800;
      letter-spacing: 0.04em;
      color: var(--blue);
    }

    .brand .pill {
      padding: 8px 12px;
      border-radius: 999px;
      background: linear-gradient(135deg, var(--blue), var(--purple));
      color: #fff;
      font-size: 12px;
      font-weight: 700;
    }

    .nav-actions { display: flex; gap: 8px; flex-wrap: wrap; }

    button {
      border: none;
      cursor: pointer;
      font-weight: 700;
      border-radius: 12px;
      transition: transform 0.18s ease, box-shadow 0.18s ease, background 0.18s ease;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--blue), var(--purple));
      color: white;
      padding: 12px 16px;
      box-shadow: 0 12px 30px rgba(15, 123, 255, 0.3);
    }

    .btn-ghost {
      background: rgba(15, 123, 255, 0.08);
      color: var(--blue);
      padding: 11px 14px;
      border: 1px solid rgba(15, 123, 255, 0.18);
    }

    button:hover { transform: translateY(-1px); box-shadow: var(--shadow); }

    .grid { display: grid; gap: 18px; }

    .hero {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.97), rgba(255, 255, 255, 0.9));
      padding: 26px;
      border-radius: 20px;
      border: 1px solid rgba(255, 255, 255, 0.7);
      box-shadow: var(--shadow);
      display: grid;
      gap: 16px;
    }

    .split { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 16px; align-items: start; }

    .hero h1 { margin: 0; font-size: clamp(30px, 5vw, 44px); color: var(--text); }
    .hero p { margin: 6px 0 10px; color: var(--muted); line-height: 1.6; }

    .section {
      background: var(--card);
      border-radius: 18px;
      padding: 20px;
      border: 1px solid rgba(255, 255, 255, 0.75);
      box-shadow: var(--shadow);
    }

    .section h2 { margin: 0 0 10px; color: var(--text); }
    .section .subtitle { color: var(--muted); margin-bottom: 12px; }

    .chips { display: flex; flex-wrap: wrap; gap: 8px; margin: 6px 0 4px; }
    .chip {
      padding: 8px 12px;
      border-radius: 12px;
      background: rgba(255, 255, 255, 0.72);
      border: 1px solid rgba(0, 0, 0, 0.05);
      color: var(--muted);
    }

    .pill-list { display: flex; flex-wrap: wrap; gap: 6px; }
    .pill-box { background: rgba(15, 123, 255, 0.06); color: var(--text); padding: 8px 10px; border-radius: 10px; }

    .panel {
      background: rgba(255, 255, 255, 0.92);
      border: 1px solid rgba(0,0,0,0.04);
      border-radius: 14px;
      padding: 14px;
      box-shadow: 0 12px 26px rgba(0,0,0,0.08);
      display: grid;
      gap: 10px;
    }

    .kpis { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; }
    .kpi {
      background: rgba(255, 255, 255, 0.9);
      border: 1px solid rgba(255, 255, 255, 0.7);
      border-radius: 14px;
      padding: 12px;
      box-shadow: var(--shadow);
      display: grid;
      gap: 6px;
    }
    .kpi .label { color: var(--muted); font-size: 13px; }
    .kpi .value { font-size: 22px; font-weight: 800; color: var(--text); }

    .tab-wrapper { margin: 12px 0 0; }
    .tabs { display: flex; gap: 10px; flex-wrap: wrap; }
    .tab {
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid rgba(0,0,0,0.05);
      background: rgba(255,255,255,0.8);
      cursor: pointer;
      font-weight: 700;
      color: var(--muted);
    }
    .tab.active { background: linear-gradient(135deg, rgba(15,123,255,0.1), rgba(130,69,255,0.12)); color: var(--text); border-color: rgba(15,123,255,0.22); }

    .tab-panels { margin-top: 12px; }
    .tab-panel { display: none; background: rgba(255,255,255,0.88); border-radius: 14px; padding: 14px; border: 1px solid rgba(0,0,0,0.04); box-shadow: var(--shadow); }
    .tab-panel.active { display: grid; gap: 10px; }

    .accordion { border: 1px solid rgba(0,0,0,0.05); border-radius: 12px; overflow: hidden; }
    .accordion-item + .accordion-item { border-top: 1px solid rgba(0,0,0,0.05); }
    .accordion-header { padding: 12px 14px; background: rgba(255,255,255,0.85); display: flex; justify-content: space-between; align-items: center; cursor: pointer; font-weight: 700; }
    .accordion-content { padding: 0 14px 14px; display: none; color: var(--muted); line-height: 1.5; }
    .accordion-item.open .accordion-content { display: block; }

    .badge-soft { padding: 6px 10px; border-radius: 10px; background: rgba(15,123,255,0.08); color: var(--blue); font-weight: 700; }
    .grid-cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 12px; }
    .card-sm { background: rgba(255,255,255,0.9); border-radius: 12px; padding: 12px; border: 1px solid rgba(0,0,0,0.05); box-shadow: var(--shadow); display: grid; gap: 6px; }
    .flag { display: inline-flex; align-items: center; gap: 6px; font-weight: 800; }

    form { display: grid; gap: 14px; }
    label { display: grid; gap: 6px; font-weight: 700; color: var(--text); }
    input, select, textarea {
      border: 1px solid rgba(0, 0, 0, 0.08);
      border-radius: 12px;
      padding: 12px;
      background: rgba(255, 255, 255, 0.9);
      font-size: 15px;
      font-family: inherit;
      color: var(--text);
      box-shadow: inset 0 2px 6px rgba(15, 27, 45, 0.04);
    }
    textarea { min-height: 110px; resize: vertical; }

    .two-col { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 12px; }

    .table { width: 100%; border-collapse: collapse; }
    .table th, .table td { text-align: left; padding: 10px 8px; }
    .table th { color: var(--muted); font-weight: 700; font-size: 13px; }
    .table tr { background: rgba(255, 255, 255, 0.7); border-radius: 10px; }
    .table tr + tr td { border-top: 1px solid rgba(0, 0, 0, 0.05); }
    .table td input, .table td select, .table td textarea { width: 100%; font-size: 14px; }
    .table-foot { font-weight: 800; color: var(--text); }

    .admin-bar { display: flex; justify-content: space-between; align-items: center; gap: 12px; flex-wrap: wrap; }
    .status-dot { width: 10px; height: 10px; border-radius: 50%; display: inline-block; }
    .toast {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #fff;
      border-radius: 12px;
      padding: 14px 16px;
      box-shadow: var(--shadow);
      color: var(--text);
      opacity: 0;
      transform: translateY(10px);
      transition: 0.2s ease;
      z-index: 50;
    }
    .toast.show { opacity: 1; transform: translateY(0); }

    .hidden { display: none !important; }

    @media (max-width: 720px) {
      .nav { flex-direction: column; align-items: flex-start; }
    }
  </style>
</head>
<body>
  <div class="page">
    <header>
      <div class="nav">
        <div class="brand">
          <div class="pill">√éle aux Bahamas</div>
          <div>R√©sidence Thalassa</div>
        </div>
        <div class="nav-links">
          <a href="#hero">Accueil</a>
          <a href="#charte">Charte</a>
          <a href="#tabs">Onglets</a>
          <a href="#services">Services</a>
          <a href="#formations">Formations</a>
          <a href="#ag2025">Derni√®re AG</a>
          <a href="#copro">Vie de copro</a>
          <a href="#owners">Copropri√©taires</a>
          <a href="#demandes">Demandes</a>
          <a href="#faq">FAQ</a>
        </div>
        <div class="nav-actions">
          <button type="button" class="btn-ghost" onclick="downloadReglement()">üìÑ R√®glement</button>
          <button type="button" class="btn-primary" onclick="openAdmin()">üîê Admin TALASSA</button>
        </div>
      </div>
    </header>

    <section id="hero" class="hero split">
      <div>
        <h1>Cabanons sur pilotis ¬∑ copropri√©t√© priv√©e</h1>
        <p>Plage, ponton, terrains de beach-volley et golf, port privatif : la r√©sidence Thalassa est pens√©e pour les copropri√©taires uniquement. Toutes les actions sont accessibles via des onglets d√©di√©s et des boutons cliquables pour un site complet et interactif.</p>
        <div class="chips">
          <div class="chip">Ponton / plage / port privatif</div>
          <div class="chip">Terrain de beach-volley & golf</div>
          <div class="chip">Respect de la faune ¬∑ silence apr√®s 00h</div>
          <div class="chip">Docs & PV toujours accessibles</div>
        </div>
        <div class="pill-list">
          <span class="pill-box">Pas de r√©servation ¬∑ pas de statut disponible/indisponible</span>
          <span class="pill-box">Acc√®s admin s√©curis√© (TALASSA / TALASSAVIVEZLEREVE)</span>
        </div>
        <div style="display:flex; gap:10px; margin-top:10px; flex-wrap:wrap;">
          <button type="button" class="btn-primary" onclick="document.getElementById('demandes').scrollIntoView({behavior:'smooth'})">üì® Envoyer une demande</button>
          <button type="button" class="btn-ghost" onclick="document.getElementById('ag2025').scrollIntoView({behavior:'smooth'})">üßæ Voir le PV 2025</button>
        </div>
      </div>
      <div class="panel">
        <div class="flag">üìä Synth√®se rapide</div>
        <div class="kpis" id="kpiRow"></div>
        <div class="chips">
          <div class="chip">AG : 12 mars 2025 ‚Äî 10 000 / 10 000 tanti√®mes</div>
          <div class="chip">Port : 1 place par cabanon (25)</div>
          <div class="chip">PV & r√®glement t√©l√©chargeables</div>
        </div>
      </div>
    </section>

    <section id="charte" class="section split">
      <div>
        <h2>Charte des parties communes</h2>
        <p class="subtitle">Fixe les r√®gles relatives √† l‚Äôadministration et la jouissance des espaces : ponton, plage, terrains de beach-volley/golf, port privatif (1 place par cabanon).</p>
        <div class="grid">
          <div class="card-sm">
            <div class="flag">üåä Espaces partag√©s</div>
            <div class="meta">Plage & ponton en usage collectif, aucune privatisation. Port r√©serv√© aux r√©sidents, badge s√©curis√©.</div>
          </div>
          <div class="card-sm">
            <div class="flag">üåø Respect & qui√©tude</div>
            <div class="meta">Pas de bruit apr√®s 00h, √©clairage doux, animaux autoris√©s s‚Äôils ne troublent pas la tranquillit√©.</div>
          </div>
          <div class="card-sm">
            <div class="flag">üèê Sports</div>
            <div class="meta">Terrains de beach-volley & golf : cr√©neaux partag√©s affich√©s, sans r√©servation ni statut de lot.</div>
          </div>
          <div class="card-sm">
            <div class="flag">üî• S√©curit√© & propret√©</div>
            <div class="meta">Propret√© collective, interdiction de feu de camp/barbecue hors zones pr√©vues.</div>
          </div>
        </div>
      </div>
      <div class="panel">
        <div class="flag">üÜï Nouvelles options copro</div>
        <div class="meta">‚Ä¢ Formation sensibilisation pr√©servation de la faune.
‚Ä¢ Formation premiers secours sur site.
‚Ä¢ Espace privatif d‚Äôune partie d‚Äôeau (partie commune) pour certains lots.
‚Ä¢ Affichage des tanti√®mes g√©n√©raux et des tanti√®mes place pour le port.</div>
        <div style="display:flex; gap:8px; flex-wrap:wrap;">
          <button type="button" class="btn-ghost" onclick="downloadReglement()">üì• Exporter r√®glement</button>
          <button type="button" class="btn-primary" onclick="downloadCoproCsv()">üìä Exporter tableau copro</button>
        </div>
      </div>
    </section>

    <section id="tabs" class="section">
      <h2>Onglets interactifs</h2>
      <p class="subtitle">Navigation rapide : acc√®s, services copro, vie de l‚Äô√Æle, documents officiels, formations et r√®gles communes.</p>
      <div class="tab-wrapper">
        <div class="tabs" id="tabsNav"></div>
        <div class="tab-panels" id="tabsPanels"></div>
      </div>
    </section>

    <section class="section" id="services">
      <h2>Services sur site et confort quotidien</h2>
      <p class="subtitle">Grille compl√®te pour un site digne d‚Äôun vrai resort copropri√©taire.</p>
      <div class="grid-cards" id="servicesGrid"></div>
    </section>

    <section class="section" id="formations">
      <h2>Formations & pr√©vention</h2>
      <p class="subtitle">Programmes d√©di√©s aux copropri√©taires, accessibles hors connexion.</p>
      <div class="grid-cards">
        <div class="card-sm"><div class="flag">ü¶ú Sensibilisation faune</div><div class="meta">Ateliers mensuels sur la protection de la faune locale et le respect des zones calmes.</div></div>
        <div class="card-sm"><div class="flag">‚õëÔ∏è Premiers secours</div><div class="meta">Sessions de premiers secours et utilisation du d√©fibrillateur de l‚Äô√Æle.</div></div>
        <div class="card-sm"><div class="flag">üåä Parcelles d‚Äôeau</div><div class="meta">Briefs d√©di√©s aux lots disposant d‚Äôun espace privatif d‚Äôeau (partie commune).</div></div>
        <div class="card-sm"><div class="flag">üßæ R√®glement anim√©</div><div class="meta">Lecture guid√©e des r√®gles cl√©s : bruit, animaux, port, propret√©, incendie.</div></div>
      </div>
    </section>

    <section class="section" id="agenda">
      <h2>Agenda & jalons</h2>
      <p class="subtitle">Toutes les √©tapes pour la pr√©sentation orale du 28 novembre et le suivi de la copropri√©t√©.</p>
      <div class="grid-cards">
        <div class="card-sm">
          <div class="flag">üé§ Pr√©sentation orale</div>
          <div class="meta">28 novembre ¬∑ Copro physiquement</div>
          <div class="badge-soft">Salle & lieu confirm√©s une semaine avant</div>
        </div>
        <div class="card-sm">
          <div class="flag">üìë R√®glement</div>
          <div class="meta">Niveau 5/6 ¬∑ EDD et composition inclus</div>
          <div class="badge-soft">T√©l√©chargeable, mis √† jour √† chaque r√©vision</div>
        </div>
        <div class="card-sm">
          <div class="flag">üõ•Ô∏è Parties communes</div>
          <div class="meta">Ponton, plage, port privatif, terrains sportifs</div>
          <div class="badge-soft">D√©finition & conditions de jouissance</div>
        </div>
        <div class="card-sm">
          <div class="flag">üìå Lieu</div>
          <div class="meta">√éle aux Bahamas ¬∑ R√©sidence Thalassa</div>
          <div class="badge-soft">Acc√®s bateau + a√©rien d√©taill√© dans les onglets</div>
        </div>
      </div>
    </section>

    <section class="section" id="ag2025">
      <h2>Derni√®re Assembl√©e G√©n√©rale ¬∑ 12 mars 2025</h2>
      <p class="subtitle">Proc√®s-verbal complet de l‚ÄôAG des copropri√©taires ‚Äî √éle du Levant, salle polyvalente.</p>
      <div class="grid-cards">
        <div class="card-sm">
          <div class="flag">üßæ Composition du bureau</div>
          <div class="meta">Pr√©sident : M. DUPOND ¬∑ Scrutateur : Mme FLAMENT ¬∑ Secr√©taire : Mme PETIT</div>
          <div class="badge-soft">Ouverture : 17h15 ¬∑ 10 000 / 10 000 tanti√®mes</div>
        </div>
        <div class="card-sm">
          <div class="flag">üìã Ordre du jour</div>
          <div class="meta">D√©termination des destinations privatives et communes, conditions de jouissance, r√®gles d‚Äôadministration.</div>
          <div class="meta">Lieu : √éle du Levant ¬∑ Port privatif et salle polyvalente.</div>
        </div>
        <div class="card-sm">
          <div class="flag">‚úÖ R√©solution adopt√©e</div>
          <div class="meta">Autorisation de pratiquer le naturisme sur la parcelle d‚Äôeau privative de chaque copropri√©taire (Article 24).</div>
        </div>
        <div class="card-sm">
          <div class="flag">‚ùå R√©solutions rejet√©es</div>
          <div class="meta">1) Naturisme dans toutes les parties communes.</div>
          <div class="meta">2) Naturisme entre 00h00 et 06h00 dans les parties communes.</div>
          <div class="meta">3) Naturisme sur une zone commune d√©di√©e en bord de mer.</div>
        </div>
      </div>
      <div class="section" style="margin-top:14px; background: rgba(255,255,255,0.85);">
        <div class="admin-bar">
          <div>
            <div class="flag">üìù Proc√®s-verbal d√©taill√©</div>
            <div class="meta">Texte int√©gral pour archivage et consultation hors connexion.</div>
          </div>
          <button type="button" class="btn-ghost" onclick="downloadReglement()">üìÑ T√©l√©charger r√®glement & PV</button>
        </div>
        <div class="meta" style="white-space: pre-line; line-height: 1.6; margin-top: 10px;">
PROC√àS-VERBAL DE L‚ÄôASSEMBL√âE G√âN√âRALE DES COPROPRI√âTAIRES
R√©sidence TALASSA ¬∑ √éle du Levant ‚Äî 12 mars 2025, 17h00
Les copropri√©taires de la R√©sidence TALASSA, r√©guli√®rement convoqu√©s par le syndic, se sont r√©unis en Assembl√©e G√©n√©rale dans la salle polyvalente de l‚Äô√Æle. La feuille de pr√©sence, √©marg√©e par les copropri√©taires pr√©sents et les mandataires, a permis de constater que les copropri√©taires pr√©sents, repr√©sent√©s ou votants par correspondance totalisent 10 000 / 10 000 tanti√®mes.

COMPOSITION DU BUREAU
Pr√©sident de s√©ance : M. DUPOND
Scrutateur : Mme FLAMENT
Secr√©taire : Mme PETIT
La s√©ance est ouverte √† 17h15.

LISTE DES COPROPRI√âTAIRES ET TANTI√àMES
(Tableau fourni par le syndicat ‚Äî voir section Copropri√©taires.)

R√âSOLUTIONS
R√âSOLUTION 1 ‚Äî Autorisation du naturisme dans les parties communes
Majorit√© requise : Article 25 (tanti√®mes g√©n√©raux)
Ont vot√© contre : Mme LEGRAND, M. LAMBLIN, M. VIVIER, Mme SOLOU.
R√©sultat : La r√©solution est rejet√©e.

R√âSOLUTION 2 ‚Äî Autorisation du naturisme dans les parties communes entre 00h00 et 06h00
Majorit√© requise : Article 25 (tanti√®mes g√©n√©raux)
Ont vot√© contre : Mme LEGRAND, M. LAMBLIN, M. VIVIER, Mme SOLOU.
R√©sultat : La r√©solution est rejet√©e.

R√âSOLUTION 3 ‚Äî Autorisation du naturisme sur une zone d√©di√©e des parties communes
Majorit√© requise : Article 25 (tanti√®mes g√©n√©raux)
Ont vot√© contre : Mme LEGRAND, M. LAMBLIN, M. VIVIER, Mme SOLOU.
R√©sultat : La r√©solution est rejet√©e.

R√âSOLUTION 4 ‚Äî Autorisation de pratiquer le naturisme sur la parcelle d‚Äôeau privative de chaque copropri√©taire
Majorit√© requise : Article 24 (tanti√®mes g√©n√©raux)
Chaque lot dispose, selon le r√®glement de copropri√©t√©, d‚Äôune parcelle d‚Äôeau privative permettant des usages maritimes individuels. Il est propos√© d‚Äôautoriser explicitement la pratique du naturisme dans ces espaces.
Ont vot√© contre : Mme SOLOU uniquement.
Ont vot√© pour : Tous les autres copropri√©taires.
R√©sultat : La r√©solution est adopt√©e √† la majorit√©.

CL√îTURE DE S√âANCE
Plus aucune question n‚Äô√©tant pos√©e, la s√©ance est lev√©e √† 19h05.
Pr√©sident de s√©ance : M. DUPOND
Secr√©taire : Mme PETIT
Scrutateur : Mme FLAMENT
Proc√®s-verbal certifi√© conforme par le syndic de la R√©sidence TALASSA.
        </div>
      </div>
    </section>

    <section class="section" id="copro">
      <h2>Options & services pour copropri√©taires</h2>
      <p class="subtitle">Des outils concrets pour la vie sur l‚Äô√Æle, l‚Äôentretien des cabanons et la coordination entre copropri√©taires.</p>
      <div class="grid-cards">
        <div class="card-sm">
          <div class="flag">üõ†Ô∏è Maintenance express</div>
          <div class="meta">D√©clarez incidents techniques, d√©clenchez une intervention, suivez le statut en temps r√©el.</div>
        </div>
        <div class="card-sm">
          <div class="flag">üß∫ Conciergerie m√©nage</div>
          <div class="meta">Planning partag√© de m√©nage des cabanons, rotation hebdomadaire et kit de nettoyage fourni.</div>
        </div>
        <div class="card-sm">
          <div class="flag">üóÇÔ∏è Documents copro</div>
          <div class="meta">R√®glement, EDD, composition du bureau, comptes rendus et PV d‚ÄôAG accessibles hors connexion.</div>
        </div>
        <div class="card-sm">
          <div class="flag">üõü Port & s√©curit√©</div>
          <div class="meta">Badges num√©riques, suivi des autorisations, rappel des consignes et de l‚Äôutilisation du port privatif.</div>
        </div>
        <div class="card-sm">
          <div class="flag">üèê Sports & loisirs</div>
          <div class="meta">Tableau de cr√©neaux partag√© pour le beach-volley et le golf, sans r√©servation obligatoire.</div>
        </div>
        <div class="card-sm">
          <div class="flag">ü§ù Vie communautaire</div>
          <div class="meta">Forum d‚Äôannonces, √©changes de mat√©riel, entraide pour arriv√©es/d√©parts et √©v√©nements sur place.</div>
        </div>
      </div>
    </section>

    <section class="section" id="owners">
      <div class="admin-bar">
        <div>
          <h2>Copropri√©taires & tanti√®mes</h2>
          <p class="subtitle">Tableau interactif pour consulter les 25 cabanons (T4) et leurs tanti√®mes g√©n√©raux et place.</p>
        </div>
        <div style="display:flex; gap:8px; flex-wrap:wrap;">
          <select id="sectionFilter" aria-label="Filtrer par section"></select>
          <button type="button" class="btn-ghost" onclick="downloadCoproCsv()">‚¨áÔ∏è Exporter CSV</button>
        </div>
      </div>
      <div class="section" style="padding:12px; background: rgba(255,255,255,0.8);">
        <table class="table" id="ownersTable"></table>
      </div>
    </section>

    <section class="section" id="demandes">
      <div class="admin-bar">
        <div>
          <h2>Demande d'information</h2>
          <p class="subtitle">Questions copropri√©taires, signalements ou besoins logistiques. Sauvegarde automatique toutes les 30 secondes et √† chaque modification.</p>
        </div>
        <button type="button" class="btn-ghost" onclick="resetDraft()">R√©initialiser le brouillon</button>
      </div>
      <form id="requestForm">
        <div class="two-col">
          <label>Nom et pr√©nom
            <input name="name" required placeholder="Votre nom" />
          </label>
          <label>Email
            <input name="email" type="email" required placeholder="vous@example.com" />
          </label>
        </div>
        <div class="two-col">
          <label>T√©l√©phone
            <input name="phone" required placeholder="+33..." />
          </label>
          <label>Lot concern√©
            <select name="lot" id="lotSelect" required></select>
          </label>
        </div>
        <label>Message
          <textarea name="message" placeholder="Pr√©cisez vos besoins, incidents, questions sur l‚Äô√Æle." required></textarea>
        </label>
        <button class="btn-primary" type="submit">Envoyer la demande</button>
        <div id="draftStatus" class="meta"></div>
      </form>
    </section>

    <section class="section" id="reglement">
      <h2>R√®glement de copropri√©t√©</h2>
      <p class="subtitle">Fixe la destination des parties privatives et communes, et les conditions de leur jouissance.</p>
      <ul class="meta">
        <li>Pas de bruit apr√®s 00h (respect du voisinage et de la faune locale).</li>
        <li>Animaux autoris√©s s‚Äôils ne troublent pas la tranquillit√©.</li>
        <li>Utilisation du port r√©serv√©e aux r√©sidents (1 place par cabanon).</li>
        <li>Plage et ponton : usage collectif, interdiction de privatiser des zones.</li>
        <li>Terrain de beach-volley & golf : cr√©neaux partag√©s affich√©s sur place.</li>
        <li>Propret√© : chaque r√©sident veille √† la propret√© des lieux communs.</li>
        <li>Interdiction de feu de camp ou barbecue hors zones pr√©vues.</li>
        <li>Formation sensibilisation sur la pr√©servation de la faune.</li>
        <li>Formation premiers secours pour les copropri√©taires.</li>
        <li>Espace privatif d‚Äôune partie d‚Äôeau (partie commune) pour quelques lots.</li>
      </ul>
      <div class="chips">
        <div class="chip">Pr√©sentation orale : 28 novembre</div>
        <div class="chip">Copro physiquement : lieu √† confirmer</div>
        <div class="chip">EDD & r√®glement : niveau 5/6</div>
        <div class="chip">Comit√© : composition en cours</div>
      </div>
      <div style="margin-top:12px; display:flex; gap:8px; flex-wrap:wrap;">
        <button type="button" class="btn-ghost" onclick="downloadReglement()">üì• Exporter le r√®glement (PDF)</button>
        <button type="button" class="btn-primary" onclick="downloadCoproCsv()">üìä Exporter copro (CSV)</button>
      </div>
    </section>

    <section class="section" id="faq">
      <h2>Questions fr√©quentes</h2>
      <div class="accordion" id="faqAccordion"></div>
    </section>

    <section id="adminPanel" class="section hidden">
      <div class="admin-bar">
        <h2>Administration TALASSA</h2>
        <button type="button" class="btn-ghost" onclick="logout()">Se d√©connecter</button>
      </div>
      <div class="subtitle">Consulter et √©diter toutes les demandes envoy√©es par les copropri√©taires. Tout est sauvegard√© localement et reste accessible hors connexion apr√®s authentification.</div>

      <h3>Demandes re√ßues</h3>
      <div class="section" style="padding:12px; background: rgba(255,255,255,0.8);">
        <table class="table" id="requestsTable"></table>
      </div>
    </section>
  </div>

  <div id="toast" class="toast"></div>

  <script>
    const coproprietaires = [
      { nom: 'Mr DUPOND', lot: 1, section: 'A', nature: 'T4', tantiemes: 400, place: 0 },
      { nom: 'Mr DUPIRE', lot: 2, section: 'A', nature: 'T4', tantiemes: 400, place: 422 },
      { nom: 'Mme LEGRAND', lot: 3, section: 'A', nature: 'T4', tantiemes: 400, place: 30 },
      { nom: 'Mme FLAMENT', lot: 4, section: 'A', nature: 'T4', tantiemes: 400, place: 456 },
      { nom: 'Mr ROY', lot: 5, section: 'A', nature: 'T4', tantiemes: 400, place: 0 },
      { nom: 'Mr DUBON', lot: 6, section: 'B', nature: 'T4', tantiemes: 400, place: 0 },
      { nom: 'Mme PETIT', lot: 7, section: 'B', nature: 'T4', tantiemes: 400, place: 590 },
      { nom: 'Mr BOUCHER', lot: 8, section: 'B', nature: 'T4', tantiemes: 400, place: 430 },
      { nom: 'Mr MARCHAND', lot: 9, section: 'B', nature: 'T4', tantiemes: 400, place: 0 },
      { nom: 'Mme LEGRAND', lot: 10, section: 'B', nature: 'T4', tantiemes: 400, place: 444 },
      { nom: 'Mme VALET', lot: 11, section: 'C', nature: 'T4', tantiemes: 400, place: 0 },
      { nom: 'Mme PASZKIEWICZ', lot: 12, section: 'C', nature: 'T4', tantiemes: 400, place: 999 },
      { nom: 'Mr LAMBLIN', lot: 13, section: 'C', nature: 'T4', tantiemes: 400, place: 444 },
      { nom: 'Mme BOURNISIEN', lot: 14, section: 'C', nature: 'T4', tantiemes: 400, place: 444 },
      { nom: 'Mr DRANCOURT HENOCH', lot: 15, section: 'C', nature: 'T4', tantiemes: 400, place: 444 },
      { nom: 'Mme CAPIAUX', lot: 16, section: 'D', nature: 'T4', tantiemes: 400, place: 0 },
      { nom: 'Mr BECQUART', lot: 17, section: 'D', nature: 'T4', tantiemes: 400, place: 555 },
      { nom: 'Mme DEHAENE', lot: 18, section: 'D', nature: 'T4', tantiemes: 400, place: 600 },
      { nom: 'Mr VIVIER', lot: 19, section: 'D', nature: 'T4', tantiemes: 400, place: 677 },
      { nom: 'Mme SPINA', lot: 20, section: 'D', nature: 'T4', tantiemes: 400, place: 999 },
      { nom: 'Mme SOLOU', lot: 21, section: 'E', nature: 'T4', tantiemes: 400, place: 444 },
      { nom: 'Mme MAILLART', lot: 22, section: 'E', nature: 'T4', tantiemes: 400, place: 888 },
      { nom: 'Mr GRABAR', lot: 23, section: 'E', nature: 'T4', tantiemes: 400, place: 888 },
      { nom: 'Mr BERNARD', lot: 24, section: 'E', nature: 'T4', tantiemes: 400, place: 0 },
      { nom: 'Mme RICCHAUD', lot: 25, section: 'E', nature: 'T4', tantiemes: 400, place: 246 }
    ];

    const reqKey = 'thalassa_requests_v3';
    const draftKey = 'thalassa_draft_v3';
    const lotNames = coproprietaires.map(c => `Lot ${c.lot} ‚Äî ${c.nom} (Section ${c.section} ¬∑ ${c.nature})`);
    let isAdmin = false;

    const tabDefinitions = [
      { id: 'lieu', titre: 'Lieu & acc√®s', points: [
        '√éle aux Bahamas, cabanons sur pilotis avec plage et ponton',
        'Navettes bateau programm√©es ¬∑ station d‚Äôaccueil s√©curis√©e',
        'Accueil bagagerie, conciergerie et maintenance sur place',
        'Bornes √©lectriques et zones techniques d√©di√©es'
      ]},
      { id: 'communs', titre: 'Parties communes', points: [
        'Ponton, plage, terrains de beach-volley et golf en usage collectif',
        'Port r√©serv√© aux r√©sidents : 1 place par cabanon, badges s√©curis√©s',
        'Espace privatif d‚Äôune partie d‚Äôeau pour certains lots (voir tableau copro)',
        'Propret√© partag√©e, incendie encadr√©, aucun feu libre'
      ]},
      { id: 'regles', titre: 'R√®gles de vie', points: [
        'Silence apr√®s 00h, respect de la faune locale',
        'Animaux autoris√©s s‚Äôils ne troublent pas la tranquillit√©',
        'Terrains sportifs : cr√©neaux partag√©s affich√©s sur place',
        'Aucune logique de r√©servation ni statut disponible/indisponible des lots'
      ]},
      { id: 'docs', titre: 'Documents & AG', points: [
        'R√®glement de copropri√©t√© et EDD (niveau 5/6)',
        'PV complet de l‚ÄôAG du 12 mars 2025',
        'Composition du bureau et liste des tanti√®mes par lot',
        'Exports PDF/CSV accessibles hors connexion'
      ]},
      { id: 'services-copro', titre: 'Services copropri√©taires', points: [
        'Conciergerie propri√©taires (maintenance, m√©nage, √©quipements)',
        'Suivi des travaux, incidents et tableaux d‚Äôaffichage partag√©s',
        'Cl√©s num√©riques, badges port, kit d‚Äôaccueil copropri√©taire'
      ]},
      { id: 'formations-tab', titre: 'Formations', points: [
        'Sensibilisation pr√©servation de la faune',
        'Premiers secours sur site',
        'Parcelles d‚Äôeau privatives : bonnes pratiques',
        'Lecture guid√©e du r√®glement'
      ]}
    ];

    const services = [
      { icon: 'üèùÔ∏è', titre: 'Acc√®s plage & ponton', texte: 'Pass prioritaire pour les r√©sidents, surveillance et √©clairage doux nocturne.' },
      { icon: '‚õµ', titre: 'Port privatif', texte: 'Place d√©di√©e par cabanon, badges s√©curis√©s, assistance amarrage.' },
      { icon: 'üèê', titre: 'Sports & loisirs', texte: 'Terrains en cr√©neaux partag√©s (tableau affich√©), sans principe de r√©servation.' },
      { icon: 'üßπ', titre: 'Propret√© & maintenance', texte: '√âquipe de m√©nage tournante, suivi des interventions et planification visible.' },
      { icon: 'ü¶ú', titre: 'Respect de la faune', texte: 'Silence apr√®s minuit, √©clairage basse intensit√©, indicateurs ‚Äúqui√©tude‚Äù.' },
      { icon: 'üõ∞Ô∏è', titre: 'Connectivit√©', texte: 'Wifi maill√©, sauvegarde locale des demandes et des documents pour usage hors connexion.' },
      { icon: 'üõü', titre: 'S√©curit√©', texte: 'Vid√©osurveillance discr√®te, num√©ros d‚Äôurgence et d√©fibrillateur signal√©s.' },
      { icon: 'ü§ù', titre: 'Communaut√©', texte: 'Espace d‚Äôannonces internes, entraide et partage d‚Äô√©quipements entre copropri√©taires.' }
    ];

    const faq = [
      { q: 'Comment acc√©der √† la r√©sidence ?', a: 'Par navette bateau d√©di√©e (port privatif) ou par l‚Äôa√©roport voisin avec transfert organis√© par la conciergerie.' },
      { q: 'Puis-je venir avec des animaux ?', a: 'Oui, s‚Äôils ne troublent pas la tranquillit√©. Les promenades sont conseill√©es en dehors des zones calmes apr√®s 20h.' },
      { q: 'Comment s‚Äôorganisent les terrains de sport ?', a: 'Cr√©neaux affich√©s sur tableau partag√© dans l‚Äôonglet Sports & Loisirs, sans r√©servation ni statut de lot.' },
      { q: 'Les demandes copro sont-elles publiques ?', a: 'Non. Seuls les administrateurs connect√©s (TALASSA / TALASSAVIVEZLEREVE) peuvent consulter et √©diter les demandes.' },
      { q: 'O√π trouver les documents officiels ?', a: 'Dans la section Documents et via le bouton de t√©l√©chargement du r√®glement et du PV.' },
      { q: 'Existe-t-il des formations ?', a: 'Oui : sensibilisation faune, premiers secours, brief sur les parcelles d‚Äôeau privatives.' }
    ];

    function populateLotOptions() {
      const sel = document.getElementById('lotSelect');
      sel.innerHTML = '<option value="">S√©lectionner un lot</option>' + lotNames.map(l => `<option value="${l}">${l}</option>`).join('');
    }

    function populateSectionFilter() {
      const select = document.getElementById('sectionFilter');
      const sections = ['Tous', ...new Set(coproprietaires.map(c => c.section))];
      select.innerHTML = sections.map(s => `<option value="${s}">${s === 'Tous' ? 'Toutes les sections' : 'Section ' + s}</option>`).join('');
      select.addEventListener('change', renderOwners);
    }

    function renderOwners() {
      const table = document.getElementById('ownersTable');
      const filter = document.getElementById('sectionFilter').value;
      const rows = coproprietaires.filter(c => filter === 'Tous' || c.section === filter);
      const totalGen = rows.reduce((a, c) => a + c.tantiemes, 0);
      const totalPlace = rows.reduce((a, c) => a + c.place, 0);
      table.innerHTML = `
        <tr>
          <th>Lot</th><th>Propri√©taire</th><th>Section</th><th>Nature</th><th>Tanti√®mes g√©n√©raux</th><th>Tanti√®mes place</th>
        </tr>
        ${rows.map(c => `
          <tr>
            <td>Lot ${c.lot}</td>
            <td>${c.nom}</td>
            <td>${c.section}</td>
            <td>${c.nature}</td>
            <td>${c.tantiemes}</td>
            <td>${c.place}</td>
          </tr>`).join('')}
        <tr class="table-foot">
          <td colspan="4">Totaux (${filter === 'Tous' ? 'ensemble' : 'Section ' + filter})</td>
          <td>${totalGen}</td>
          <td>${totalPlace}</td>
        </tr>
      `;
    }

    function downloadCoproCsv() {
      const header = 'Lot;Propri√©taire;Section;Nature;Tanti√®mes g√©n√©raux;Tanti√®mes place';
      const lines = coproprietaires.map(c => `${c.lot};${c.nom};${c.section};${c.nature};${c.tantiemes};${c.place}`);
      const content = [header, ...lines, 'Total;;;' + totalTantiemes() + ';' + totalPlaces()].join('\n');
      const blob = new Blob([content], { type: 'text/csv' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'Coproprietaires_Thalassa.csv';
      a.click();
      URL.revokeObjectURL(url);
      toast('Tableau copropri√©taires export√©.');
    }

    function totalTantiemes() { return coproprietaires.reduce((a, c) => a + c.tantiemes, 0); }
    function totalPlaces() { return coproprietaires.reduce((a, c) => a + c.place, 0); }

    function loadRequests() {
      return JSON.parse(localStorage.getItem(reqKey) || '[]');
    }
    function saveRequests(reqs) { localStorage.setItem(reqKey, JSON.stringify(reqs)); }

    function submitRequest(e) {
      e.preventDefault();
      const form = e.target;
      const data = Object.fromEntries(new FormData(form).entries());
      const requests = loadRequests();
      requests.push({ ...data, statut: 'Nouvelle', id: crypto.randomUUID(), date: new Date().toISOString() });
      saveRequests(requests);
      localStorage.removeItem(draftKey);
      form.reset();
      updateDraftStatus('Demande enregistr√©e et envoy√©e au gestionnaire.');
      toast('Demande envoy√©e. Elle est visible par l\'administrateur uniquement.');
      renderRequests();
      updateKpis();
    }

    function renderRequests() {
      if (!isAdmin) return;
      const table = document.getElementById('requestsTable');
      const reqs = loadRequests();
      if (!reqs.length) {
        table.innerHTML = '<tr><td class="meta">Aucune demande pour le moment.</td></tr>';
        return;
      }
      table.innerHTML = `
        <tr>
          <th>Nom</th><th>Email</th><th>T√©l√©phone</th><th>Lot</th><th>Message</th><th>Statut</th>
        </tr>
      ` + reqs.map(r => `
        <tr>
          <td><input value="${r.name || ''}" data-id="${r.id}" data-field="name" /></td>
          <td><input value="${r.email || ''}" data-id="${r.id}" data-field="email" /></td>
          <td><input value="${r.phone || ''}" data-id="${r.id}" data-field="phone" /></td>
          <td><input value="${r.lot || ''}" data-id="${r.id}" data-field="lot" /></td>
          <td><textarea data-id="${r.id}" data-field="message">${r.message || ''}</textarea></td>
          <td>
            <select data-id="${r.id}" data-field="statut">
              ${['Nouvelle','En cours','Cl√¥tur√©e'].map(s => `<option ${s===r.statut?'selected':''}>${s}</option>`).join('')}
            </select>
          </td>
        </tr>
      `).join('');
      table.querySelectorAll('input, textarea, select').forEach(el => el.addEventListener('change', editRequest));
    }

    function updateKpis() {
      const reqs = loadRequests();
      const uniqueSections = new Set(coproprietaires.map(c => c.section));
      document.getElementById('kpiRow').innerHTML = `
        <div class="kpi"><div class="label">Cabanons</div><div class="value">${coproprietaires.length}</div></div>
        <div class="kpi"><div class="label">Sections</div><div class="value">${uniqueSections.size}</div></div>
        <div class="kpi"><div class="label">Tanti√®mes g√©n√©raux</div><div class="value">${totalTantiemes()}</div></div>
        <div class="kpi"><div class="label">Demandes re√ßues</div><div class="value">${reqs.length}</div></div>
      `;
    }

    function renderTabs() {
      const nav = document.getElementById('tabsNav');
      const panels = document.getElementById('tabsPanels');
      nav.innerHTML = tabDefinitions.map((t, i) => `<button class="tab ${i===0?'active':''}" data-tab="${t.id}">${t.titre}</button>`).join('');
      panels.innerHTML = tabDefinitions.map((t, i) => `
        <div class="tab-panel ${i===0?'active':''}" data-tab="${t.id}">
          ${t.points.map(p => `<div class="meta">‚Ä¢ ${p}</div>`).join('')}
        </div>
      `).join('');
      nav.querySelectorAll('.tab').forEach(btn => btn.addEventListener('click', () => setTab(btn.dataset.tab)));
    }

    function setTab(tabId) {
      document.querySelectorAll('.tab').forEach(t => t.classList.toggle('active', t.dataset.tab === tabId));
      document.querySelectorAll('.tab-panel').forEach(p => p.classList.toggle('active', p.dataset.tab === tabId));
    }

    function renderServices() {
      const grid = document.getElementById('servicesGrid');
      grid.innerHTML = services.map(s => `
        <div class="card-sm">
          <div class="flag">${s.icon} ${s.titre}</div>
          <div class="meta">${s.texte}</div>
        </div>
      `).join('');
    }

    function renderFaq() {
      const wrap = document.getElementById('faqAccordion');
      wrap.innerHTML = faq.map((f, i) => `
        <div class="accordion-item ${i===0?'open':''}">
          <div class="accordion-header">${f.q}<span>${i===0?'-':'+'}</span></div>
          <div class="accordion-content">${f.a}</div>
        </div>
      `).join('');
      wrap.querySelectorAll('.accordion-item').forEach(item => {
        item.querySelector('.accordion-header').addEventListener('click', () => {
          const open = item.classList.toggle('open');
          item.querySelector('span').textContent = open ? '-' : '+';
        });
      });
    }

    function editRequest(e) {
      const { id, field } = e.target.dataset;
      const reqs = loadRequests();
      const idx = reqs.findIndex(r => r.id === id);
      if (idx === -1) return;
      reqs[idx][field] = e.target.value;
      saveRequests(reqs);
      toast('Demande mise √† jour et publi√©e hors connexion.');
    }

    function downloadReglement() {
      const regles = [
        'Pas de bruit apr√®s 00h (respect du voisinage et de la faune locale).',
        'Animaux autoris√©s s‚Äôils ne troublent pas la tranquillit√©.',
        'Utilisation du port r√©serv√©e aux r√©sidents (1 place par cabanon).',
        'Plage et ponton : usage collectif, interdiction de privatiser des zones.',
        'Terrain de beach-volley & golf : cr√©neaux partag√©s affich√©s sur place.',
        'Propret√© : chaque r√©sident veille √† la propret√© des lieux communs.',
        'Interdiction de feu de camp ou barbecue hors zones pr√©vues.',
        'Formation sensibilisation sur la pr√©servation de la faune.',
        'Formation premiers secours.',
        'Espace privatif d‚Äôune partie d‚Äôeau (partie commune) pour quelques lots.'
      ];
      const coproLines = coproprietaires.map(c => `Lot ${c.lot} ‚Äî ${c.nom} ‚Äî Section ${c.section} ‚Äî ${c.nature} ‚Äî Tanti√®mes g√©n√©raux ${c.tantiemes} ‚Äî Tanti√®mes place ${c.place}`);
      const content = [
        'R√©sidence Thalassa ‚Äî √éle aux Bahamas, cabanons sur pilotis',
        'Parties communes : ponton, plage, terrain de beach-volley/golf, port (place de bateau privative).',
        'Fixe les r√®gles relatives √† l‚Äôadministration des parties communes.',
        '',
        'R√àGLES PRINCIPALES',
        ...regles,
        '',
        'FORMATIONS',
        '- Sensibilisation faune locale',
        '- Premiers secours',
        '- Brief parcelles d‚Äôeau privatives',
        '',
        'TABLEAU COPROPRI√âTAIRES',
        ...coproLines,
        `Total tanti√®mes g√©n√©raux : ${totalTantiemes()}`,
        `Total tanti√®mes place : ${totalPlaces()}`,
        '',
        'AG 12 mars 2025 : 10 000 / 10 000 tanti√®mes. Naturisme parties communes rejet√© (3 r√©solutions). Naturisme sur parcelle d‚Äôeau privative adopt√© (Article 24). Bureau : Dupond / Flament / Petit.',
        'Dates cl√©s : pr√©sentation orale le 28 novembre (copro physiquement, composition, r√®glement niveau 5/6, EDD, lieu).'
      ].join('\n');
      const blob = new Blob([content], { type: 'application/pdf' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'Reglement_Residence_Thalassa.pdf';
      a.click();
      URL.revokeObjectURL(url);
      toast('R√®glement PDF t√©l√©charg√©.');
    }

    function saveDraft() {
      const form = document.getElementById('requestForm');
      const data = Object.fromEntries(new FormData(form).entries());
      localStorage.setItem(draftKey, JSON.stringify({ data, date: new Date().toISOString() }));
      updateDraftStatus('Brouillon sauvegard√©.');
    }

    function restoreDraft() {
      const saved = JSON.parse(localStorage.getItem(draftKey) || 'null');
      if (!saved) return;
      const form = document.getElementById('requestForm');
      Object.entries(saved.data).forEach(([k, v]) => { if (form[k]) form[k].value = v; });
      updateDraftStatus(`Brouillon restaur√© (${new Date(saved.date).toLocaleTimeString()}).`);
    }

    function resetDraft() {
      document.getElementById('requestForm').reset();
      localStorage.removeItem(draftKey);
      updateDraftStatus('Brouillon r√©initialis√©.');
    }

    function updateDraftStatus(text) {
      document.getElementById('draftStatus').textContent = text;
    }

    function toast(message) {
      const t = document.getElementById('toast');
      t.textContent = message;
      t.classList.add('show');
      setTimeout(() => t.classList.remove('show'), 2400);
    }

    function openAdmin() {
      const login = prompt('Identifiant administrateur');
      const pwd = login ? prompt('Mot de passe') : '';
      if (login === 'TALASSA' && pwd === 'TALASSAVIVEZLEREVE') {
        isAdmin = true;
        document.getElementById('adminPanel').classList.remove('hidden');
        renderRequests();
        toast('Connexion r√©ussie.');
      } else {
        alert('Identifiants incorrects. Acc√®s refus√©.');
      }
    }

    function logout() {
      isAdmin = false;
      document.getElementById('adminPanel').classList.add('hidden');
      toast('Vous √™tes d√©connect√©.');
    }

    document.getElementById('requestForm').addEventListener('submit', submitRequest);
    document.getElementById('requestForm').addEventListener('input', () => { saveDraft(); });
    setInterval(saveDraft, 30000);

    populateLotOptions();
    populateSectionFilter();
    renderOwners();
    restoreDraft();
    renderTabs();
    renderServices();
    renderFaq();
    updateKpis();
  </script>
</body>
</html>
